<div class="modal" (click)="closeDetailsModal()">
  <div class="modal-content details-modal" (click)="$event.stopPropagation()">
    <div class="modal-header">
      <h3>Book Details</h3>
      <button class="close-btn" (click)="closeDetailsModal()">&times;</button>
    </div>

    <div class="book-details" *ngIf="book">
      <div class="book-details-image">
        <img [src]="book.imageUrl || 'assets/default-book.jpg'" [alt]="book.title" />
      </div>

      <div class="book-details-info">
        <h2>{{ book.title }}</h2>
        <p class="author-details">by {{ book.author }}</p>
        <p class="description-details">{{ book.description }}</p>

        <div class="book-stats">
          <div class="stat">
            <span class="stat-label">Likes:</span>
            <span class="stat-value">{{ book.likes?.length || 0 }}</span>
          </div>
          <div class="stat">
            <span class="stat-label">Book ID:</span>
            <span class="stat-value">{{ book._id }}</span>
          </div>
        </div>

        <div class="book-actions-details">
          <button
            class="like-btn-details like-btn"
            [class.liked]="isLiked"
            (click)="toggleLike()"
            [disabled]="!isLoggedIn"
          >
            <span class="icon">❤️</span>
            <span class="label">Like</span>
            <span class="count">{{ book.likes?.length || 0 }}</span>
          </button>
        </div>
      </div>
    </div>
  </div>
</div>
